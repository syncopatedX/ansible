#SPDX-License-Identifier: MIT-0
---
# tasks file for networking

- name: Load distribution-specific variables
  ansible.builtin.include_vars: "{{ ansible_os_family }}.yml"
  tags: ["packages"]

# iwd backend
- name: Include iwd tasks
  ansible.builtin.include_tasks: iwd.yml
  when: wifi_backend == "iwd"

# NetworkManager backend
- name: Include NetworkManager tasks
  ansible.builtin.include_tasks: networkmanager.yml
  when: network_interfaces is defined

# systemd-networkd backend 
- name: Include networkd tasks
  ansible.builtin.include_tasks: networkd.yml
  when: systemd_network_networks is defined

# Avahi/mDNS support
- name: Include avahi tasks
  ansible.builtin.include_tasks: avahi.yml
  when: enable_mdns | default(true)

# NTP/time synchronization
- name: Include NTP tasks
  ansible.builtin.include_tasks: ntp.yml
  when: enable_ntp | default(true)
