---
# Rocky Linux / Red Hat Family Package Definitions
# Migrated from roles/base/vars/RedHat.yml

# System package manager configuration
system_package_manager: dnf

# Base packages available in Rocky Linux repositories
system_packages:
  base:
    # Download and network utilities
    - aria2                          # aria2 (EPEL)
    - wget                           # wget
    - curl                           # curl equivalent
    - rsync                          # rsync
    - bind-utils                     # bind (DNS utilities)
    - net-tools                      # net-tools
    
    # Text processing and spell checking
    - aspell                         # aspell
    - aspell-en                      # aspell-en
    - hunspell                       # nuspell alternative
    - hspell                         # hspell
    
    # Archive and file utilities
    - unzip                          # unzip
    - tree                           # tree
    
    # Audio and multimedia libraries
    - audiofile-devel                # audiofile
    - taglib                         # taglib
    - vorbis-tools                   # vorbis-tools
    - wavpack                        # wavpack
    
    # Development tools and build system
    - "@Development Tools"           # base-devel equivalent
    - cmake                          # cmake
    - git                            # git
    - git-lfs                        # git-lfs
    - debugedit                      # debugedit
    
    # System tools and monitoring
    - bash-completion                # bash-completion
    - firewalld                      # firewalld
    - kernel-tools                   # cpupower equivalent
    - htop                           # htop
    - iotop                          # iotop
    - sysstat                        # sysstat
    - smartmontools                  # smartmontools
    
    # Text editors and pagers
    - most                           # most
    
    # Graphics and image processing
    - ImageMagick                    # imagemagick
    - GraphicsMagick                 # graphicsmagick
    
    # Network and web browsers
    - elinks                         # elinks
    - links                          # links
    - lynx                           # lynx
    
    # Security and authentication
    - gnome-keyring                  # gnome-keyring
    - openssh                        # openssh
    - sudo                           # sudo
    - stunnel                        # stunnel
    
    # FUSE filesystem support
    - fuse                           # fuse-common
    - fuse3                          # fuse3
    
    # Multimedia framework
    - gstreamer1                     # gstreamer
    
    # Programming languages and tools
    - nodejs                         # nodejs
    - npm                            # npm
    - jq                             # jq
    - highlight                      # highlight
    - figlet                         # figlet
    - gnuplot                        # gnuplot
    
    # Git and version control libraries
    - libgit2                        # libgit2
    
    # PDF and document processing
    - poppler                        # poppler
    
    # Database libraries
    - postgresql                     # postgresql-libs
    
    # Python packages
    - python3-chardet                # python-chardet
    - python3-pillow                # python-pillow
    - python3-pip                   # python-pip
    - python3-pygments              # python-pygments
    - python3-setuptools            # python-setuptools
    - python3-virtualenv            # python-virtualenv
    
    # File manager and terminal tools
    - ranger                         # ranger
    - xterm                          # xterm
    
    # Socket and network utilities
    - socat                          # socat
    
    # Accessibility
    - speech-dispatcher              # speech-dispatcher

  multimedia:
    - gstreamer1                     # gstreamer
    - gstreamer1-plugins-base        # basic GStreamer plugins
    - gstreamer1-plugins-good        # good GStreamer plugins

  development:
    - "@Development Tools"           # equivalent to base-devel
    - git
    - git-lfs
    - cmake
    - nodejs
    - npm
    - python3-pip
    - python3-setuptools

# Packages available in EPEL repository
epel_packages:
  - aria2                          # Download utility
  - atool                          # Archive tool wrapper
  - bat                            # Cat with syntax highlighting
  - fd-find                        # Find alternative
  - fakeroot                       # Fake root environment
  - inxi                           # System information
  - lnav                           # Log navigator
  - ncdu                           # Disk usage analyzer
  - numlockx                       # NumLock control
  - pandoc                         # Document converter
  - playerctl                      # Media player control
  - ripgrep                        # Fast grep alternative
  - rxvt-unicode                   # Terminal emulator
  - sshpass                        # SSH password authentication
  - mediainfo                      # Media file information
  - meld                           # File comparison

# Packages from RPM Fusion Free
rpmfusion_free_packages:
  - faac                           # AAC encoder
  - faad2                          # AAC decoder
  - gstreamer1-libav              # GStreamer libav plugin
  - x264                           # H.264 encoder
  - x265                           # H.265 encoder

# Packages from RPM Fusion Non-Free
rpmfusion_nonfree_packages:
  - unrar                          # RAR extractor

# Packages requiring alternative installation methods
alternative_packages:
  # Packages to install via Cargo
  cargo:
    - name: bottom
      crate: bottom
      alternative_system: iftop
    - name: dust
      crate: du-dust
      alternative_system: ncdu
    - name: eza
      crate: eza
      alternative_system: ls
    - name: git-delta
      crate: git-delta
      alternative_system: diff
    - name: gping
      crate: gping
      alternative_system: ping
    - name: ripgrep-all
      crate: ripgrep_all
      alternative_system: grep
    - name: sd
      crate: sd
      alternative_system: sed
    - name: bandwhich
      crate: bandwhich
      alternative_system: iftop

  # Binary downloads from GitHub releases
  binary:
    - name: glow
      url: "https://github.com/charmbracelet/glow/releases/latest/download/glow_Linux_x86_64.tar.gz"
      binary_name: glow
      extract: true
    - name: gum
      url: "https://github.com/charmbracelet/gum/releases/latest/download/gum_Linux_x86_64.tar.gz"
      binary_name: gum
      extract: true
    - name: micro
      url: "https://github.com/zyedidia/micro/releases/latest/download/micro-linux64.tar.gz"
      binary_name: micro
      extract: true

  # Source builds
  source:
    - name: chromaprint
      url: "https://github.com/acoustid/chromaprint.git"
      build_system: cmake
      build_deps: ["cmake", "gcc-c++", "ffmpeg-devel"]
      description: "Audio fingerprinting library"
    - name: libvips
      url: "https://github.com/libvips/libvips.git"
      build_system: meson
      build_deps: ["meson", "ninja-build", "glib2-devel", "expat-devel", "libjpeg-turbo-devel", "libpng-devel", "libtiff-devel", "libwebp-devel"]
      description: "Image processing library"

  # Python pip packages
  pip:
    - name: edge-tts
      package: edge-tts
    - name: j2cli
      package: j2cli
    - name: tldr
      package: tldr
      alternative_system: man
    - name: ueberzug
      package: ueberzug

  # Special repository setups
  repository:
    - name: gh
      repo_setup: |
        curl -fsSL https://cli.github.com/packages/rpm/gh-cli.repo | sudo tee /etc/yum.repos.d/github-cli.repo
      package: gh
      description: "GitHub CLI"

# Package mappings from Arch Linux to Rocky Linux
package_mappings:
  # Direct mappings
  git: git
  curl: curl
  wget: wget
  rsync: rsync
  htop: htop
  tree: tree
  jq: jq
  sudo: sudo
  
  # Alternative mappings
  base-devel: "@Development Tools"
  pacman: dnf
  imagemagick: ImageMagick
  graphicsmagick: GraphicsMagick
  bind: bind-utils
  
  # EPEL mappings
  ripgrep: ripgrep
  fd: fd-find
  bat: bat
  
  # Ruby mappings
  ruby: ruby
  ruby-bundler: rubygem-bundler
  ruby-rdoc: rubygem-rdoc
  
  # Network/DNS mappings
  avahi: avahi
  nss-mdns: nss-mdns
  
  # SSH mappings
  openssh: openssh-server
  sshfs: fuse-sshfs
  autossh: autossh
  keychain: keychain
  x11-ssh-askpass: openssh-askpass
  mosh: mosh
  
  # Shell mappings
  zsh: zsh
  oh-my-zsh-git: "# Install via git clone"
  zoxide: "# Install via cargo or binary"
  zsh-autocomplete: "# Install via git clone"
  zsh-completions: zsh-completions
  zsh-syntax-highlighting: "# Install via git clone"
  
  # Not available / alternatives
  bandwhich: iftop
  choose: cut
  curlie: curl
  downgrade: "# Arch-specific, not needed"
  duf: df
  i7z: cpupower
  libgit2-glib: libgit2-devel
  mako: "# Use GNOME notifications"
  nano-syntax-highlighting: "# Built into nano"
  nuspell: hunspell
  python-adblock: "# Use browser-based blocking"
  realtime-privileges: "# Configure via limits.conf"
  swappy: "# Use GNOME Screenshot"

# Critical packages that must be available
critical_packages:
  - git
  - sudo
  - openssh
  - firewalld
  - htop
  - rsync
  - "@Development Tools"

# Repository configuration
repositories:
  epel:
    enabled: "{{ rocky_linux.epel_enabled | default(true) }}"
    priority: 20
  
  powertools:
    enabled: "{{ rocky_linux.powertools_enabled | default(true) }}"
    name: "powertools"
    priority: 30
  
  rpmfusion_free:
    enabled: "{{ rocky_linux.rpmfusion_enabled | default(true) }}"
    priority: 40
    
  rpmfusion_nonfree:
    enabled: "{{ rocky_linux.rpmfusion_enabled | default(true) }}"
    priority: 50

# DNF configuration
dnf:
  flags: "{{ rocky_linux.dnf_flags | default('-y') }}"
  config: "{{ rocky_linux.dnf_config | default({}) }}"
  
# Repository priorities
repository_priorities:
  rocky-baseos: 10
  rocky-appstream: 10
  epel: 20
  powertools: 30
  rpmfusion-free: 40
  rpmfusion-nonfree: 50