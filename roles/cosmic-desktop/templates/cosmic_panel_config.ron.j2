// COSMIC Panel Configuration  
// Generated by Ansible - cosmic-desktop role

(
{% if cosmic_panel_settings is defined and cosmic_panel_settings | length > 0 %}
    panels: [
    {% for panel in cosmic_panel_settings %}
        {
            id: "{{ panel.id | default('panel_' ~ loop.index) }}",
            {% if panel.position is defined %}
            position: {{ panel.position }},
            {% endif %}
            {% if panel.height is defined %}
            height: {{ panel.height }},
            {% endif %}
            {% if panel.width is defined %}
            width: {{ panel.width }},
            {% endif %}
            {% if panel.autohide is defined %}
            autohide: {{ panel.autohide | lower }},
            {% endif %}
            {% if panel.background is defined %}
            background: {
                {% if panel.background.color is defined %}
                color: "{{ panel.background.color }}",
                {% endif %}
                {% if panel.background.opacity is defined %}
                opacity: {{ panel.background.opacity }},
                {% endif %}
            },
            {% endif %}
            {% if panel.applets is defined %}
            applets: [
            {% for applet in panel.applets %}
                "{{ applet }}",
            {% endfor %}
            ],
            {% endif %}
        },
    {% endfor %}
    ],
{% else %}
    // Default COSMIC panel configuration
    panels: [
        {
            id: "top_panel",
            position: Top,
            height: 32,
            autohide: false,
            background: {
                color: "#1e1e1e",
                opacity: 0.95,
            },
            applets: [
                "workspaces",
                "applications",
                "spacer",
                "clock",
                "system-tray",
                "power",
            ],
        },
        {
            id: "dock",
            position: Bottom,
            height: 48,
            autohide: true,
            background: {
                color: "#2d2d2d", 
                opacity: 0.9,
            },
            applets: [
                "launcher",
                "applications",
                "spacer",
                "trash",
            ],
        },
    ],
{% endif %}
    
    // Global panel settings
    theme: {
        name: "cosmic-dark",
        icon_theme: "cosmic",
    },
    
    // Workspace configuration
    workspaces: {
        names: [
            "Desktop",
            "Web",
            "Development", 
            "Media",
        ],
    },
)